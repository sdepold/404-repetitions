<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"></head><body><div id="game"></div><script>!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(module,__webpack_exports__,__webpack_require__){"use strict";function initAudio(){var t=new(window.AudioContext||window.webkitAudioContext),e=t.createScriptProcessor(1024,1,1);e.connect(t.destination);return navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(n){t.createMediaStreamSource(n).connect(e);var i=!1;e.onaudioprocess=function(t){i||(i=!0)}}))}function plu(){pa(",,80,.3,.4,.7,2,.1,-0.73,3.42,-430,.09,.17,,,,.19")}function pc(){pa(",.1,75,.03,.08,.17,1,1.88,7.83,,,,,.4")}function pa(seq){zzfx(...eval(`[${seq}]`))}__webpack_require__.d(__webpack_exports__,"a",(function(){return initAudio})),__webpack_require__.d(__webpack_exports__,"d",(function(){return plu})),__webpack_require__.d(__webpack_exports__,"c",(function(){return pc})),__webpack_require__.d(__webpack_exports__,"b",(function(){return pa}))},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var s=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(r).concat([s]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(i[r]=!0)}for(s=0;s<t.length;s++){var a=t[s];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i,s,r={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=i.apply(this,arguments)),s}),o=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=o.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),h=null,l=0,d=[],p=n(16);function u(t,e){for(var n=0;n<t.length;n++){var i=t[n],s=r[i.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](i.parts[a]);for(;a<i.parts.length;a++)s.parts.push(v(i.parts[a],e))}else{var o=[];for(a=0;a<i.parts.length;a++)o.push(v(i.parts[a],e));r[i.id]={id:i.id,refs:1,parts:o}}}}function m(t,e){for(var n=[],i={},s=0;s<t.length;s++){var r=t[s],a=e.base?r[0]+e.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(o):n.push(i[a]={id:a,parts:[o]})}return n}function f(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=c(t.insertAt.before,n);n.insertBefore(e,s)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function x(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return y(e,t.attrs),f(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function v(t,e){var n,i,s,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var a=l++;n=h||(h=x(e)),i=C.bind(null,n,a,!1),s=C.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),f(t,e),e}(e),i=k.bind(null,n,e),s=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=x(e),i=S.bind(null,n),s=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=m(t,e);return u(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var a=n[s];(o=r[a.id]).refs--,i.push(o)}t&&u(m(t,e),e);for(s=0;s<i.length;s++){var o;if(0===(o=i[s]).refs){for(var c=0;c<o.parts.length;c++)o.parts[c]();delete r[o.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function C(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var r=document.createTextNode(s),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function S(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function k(t,e,n){var i=n.css,s=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||r)&&(i=p(i)),s&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var a=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}},function(t){t.exports=JSON.parse('{"minutesPerTick":1,"staminaPerTick":0.01,"tickDelay":33}')},function(t,e,n){"use strict";e.initFont=({height:t=5,...e}={},n)=>{if(e&&n)return(i,s=0,r=0,a=24,o="#000")=>{[...i].reduce((i,c)=>{const h=a/t,l=e[c.charCodeAt()]||"",d=(((t=>t>0)(l)?l:l.codePointAt())||0).toString(2),p=Math.ceil(d.length/t),u=i+h;return((t,e)=>t.match(new RegExp(`.{${e}}`,"g")))(d.padStart(p*t,0),t).map((t,e)=>[...t].map((t,i)=>{n.fillStyle=+t?o:"transparent",n.fillRect(s+u+e*h,r+i*h,h,h)})),i+(p+1)*h},0)}};const i=[...Array(33),29,,,,,,12,,,,"ᇄ",3,"ႄ",1,1118480,"縿",31,"庽","嚿","炟","皷","纷","䈟","线","皿",17,,,"⥊",,"䊼",,"㹏","纮","縱","縮","纵","纐","񴚦","粟","䟱","丿",1020241,"簡",33059359,1024159,"縿","纜","񼙯","繍","皷","䏰","簿",25363672,32541759,18157905,"惸",18470705,,,,,"С"];e.font=i},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports="data:image/png;charset=utf-8;base64,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"},function(t,e,n){var i=n(23);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:undefined,insertInto:void 0};n(2)(i,s);i.locals&&(t.exports=i.locals)},function(t){t.exports=JSON.parse('{"name":"competition","requirements":{"level":4},"items":[{"title":"Local competition","requirements":{"level":4,"time":120},"effects":{"experience":200,"rank":-10000},"miniGame":true},{"title":"State competition","requirements":{"level":10,"time":720},"effects":{"experience":2000,"rank":-40},"miniGame":true},{"title":"World championship","requirements":{"level":40,"time":21600},"effects":{"experience":10000,"rank":-404},"miniGame":true}]}')},function(t){t.exports=JSON.parse('{"name":"store","items":[{"title":"Burger","requirements":{"money":5,"time":10},"effects":{"money":-5,"stamina":20}},{"title":"Veggi Bowl","requirements":{"money":20,"time":60},"effects":{"money":-20,"stamina":60}}]}')},function(t){t.exports=JSON.parse('{"name":"office","items":[{"title":"Chop wood","requirements":{"strength":2,"time":120,"stamina":30},"effects":{"stamina":-30,"experience":25,"money":50}},{"title":"Dog walk","requirements":{"strength":0,"time":10,"stamina":15},"effects":{"money":10,"experience":10,"stamina":-15}}]}')},function(t){t.exports=JSON.parse('{"name":"gym","items":[{"title":"WOTD XYZ","requirements":{"strength":1,"time":30,"stamina":"50"},"effects":{"stamina":-50,"experience":225}}]}')},function(t,e){window.AudioContext=window.AudioContext||window.webkitAudioContext},function(t,e){zzfxV=.3,zzfx=(t=1,e=.05,n=220,i=0,s=0,r=.1,a=0,o=1,c=0,h=0,l=0,d=0,p=0,u=0,m=0,f=0,g=0,x=1,y=0,v=0)=>{let w,b,C=2*Math.PI,S=c*=500*C/zzfxR**2,k=(0<m?1:-1)*C/4,T=n*=(1+2*e*Math.random()-e)*C/zzfxR,I=[],M=0,A=0,E=0,z=1,L=0,R=0,O=0;for(i=99+zzfxR*i,y*=zzfxR,s*=zzfxR,r*=zzfxR,g*=zzfxR,h*=500*C/zzfxR**3,m*=C/zzfxR,l*=C/zzfxR,d*=zzfxR,p=zzfxR*p|0,b=i+y+s+r+g|0;E<b;I[E++]=O)++R%(100*f|0)||(O=a?1<a?2<a?3<a?Math.sin((M%C)**3):Math.max(Math.min(Math.tan(M),1),-1):1-(2*M/C%2+2)%2:1-4*Math.abs(Math.round(M/C)-M/C):Math.sin(M),O=(p?1-v+v*Math.sin(2*Math.PI*E/p):1)*(0<O?1:-1)*Math.abs(O)**o*t*zzfxV*(E<i?E/i:E<i+y?1-(E-i)/y*(1-x):E<i+y+s?x:E<b-g?(b-E-g)/r*x:0),O=g?O/2+(g>E?0:(E<b-g?1:(b-E)/g)*I[E-g|0]/2):O),w=(n+=c+=h)*Math.sin(A*m-k),M+=w-w*u*(1-1e9*(Math.sin(E)+1)%2),A+=w-w*u*(1-1e9*(Math.sin(E)**2+1)%2),z&&++z>d&&(n+=l,T+=l,z=0),!p||++L%p||(n=T,c=S,z=z||1);return(t=zzfxX.createBuffer(1,b,zzfxR)).getChannelData(0).set(I),(n=zzfxX.createBufferSource()).buffer=t,n.connect(zzfxX.destination),n.start(),n},zzfxX=new(window.AudioContext||webkitAudioContext),zzfxR=44100},function(t,e,n){var i=n(15);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:undefined,insertInto:void 0};n(2)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(5);(t.exports=n(1)(!1)).push([t.i,"@keyframes player-walk {\n  100% {\n    background-position-x: -420px;\n  }\n}\n.player {\n  position: absolute;\n  background: url("+i(n(6))+");\n  background-size: 420px;\n  width: 33px;\n  height: 46px;\n  background-position: -354px -6px;\n}\n.player.walk {\n  animation: player-walk 0.4s steps(2) infinite;\n}\n.player.inverse {\n  transform: scaleX(-1);\n}\n.player.dressed {\n  background-position-y: -65px;\n}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(t,e,n){var i=n(18);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:undefined,insertInto:void 0};n(2)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".menu {\n  background: white;\n  position: absolute;\n  padding: 10px;\n  margin: 10px;\n  border: 2px solid black;\n  border-radius: 4px;\n}\n",""])},function(t,e,n){var i=n(20);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:undefined,insertInto:void 0};n(2)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,"@keyframes pulse-green {\n  0% {\n    transform: scale(0.95);\n    box-shadow: 0 0 0 0 rgba(51, 217, 178, 0.7);\n  }\n  70% {\n    transform: scale(1);\n    box-shadow: 0 0 0 10px rgba(51, 217, 178, 0);\n  }\n  100% {\n    transform: scale(0.95);\n    box-shadow: 0 0 0 0 rgba(51, 217, 178, 0);\n  }\n}\n@keyframes pulse-red {\n  0% {\n    transform: scale(0.95);\n    box-shadow: 0 0 0 0 rgba(255, 82, 82, 0.7);\n  }\n  70% {\n    transform: scale(1);\n    box-shadow: 0 0 0 10px rgba(255, 82, 82, 0);\n  }\n  100% {\n    transform: scale(0.95);\n    box-shadow: 0 0 0 0 rgba(255, 82, 82, 0);\n  }\n}\n.mini-game {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n}\n.mini-game .enemy,\n.mini-game .target {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.8);\n  border: 2px solid white;\n  margin-top: -10px;\n  color: white;\n  padding: 10px;\n}\n.mini-game .enemy {\n  z-index: 1;\n}\n.mini-game .enemy.collides {\n  border: 2px solid #ffb142;\n  color: #ffb142;\n}\n.mini-game .enemy.contains {\n  border: 2px solid #33d9b2;\n  color: #33d9b2;\n}\n.mini-game .enemy.missed {\n  border: 2px solid #ff5252;\n  color: #ff5252;\n  animation: pulse-red 2s infinite;\n}\n.mini-game .enemy.destroyed {\n  border: 2px solid #33d9b2;\n  color: #33d9b2;\n  animation: pulse-green 2s infinite;\n}\n.mini-game .target {\n  top: 70%;\n  left: 50%;\n  height: 50px;\n  width: 50px;\n  margin-left: -26px;\n  margin-top: -25px;\n}\n.mini-game .score {\n  position: absolute;\n  bottom: -80px;\n  margin-left: 50px;\n}\n.mini-game .start-mini-game {\n  margin-left: 20px;\n  margin-top: 60px;\n}\n",""])},function(t,e,n){var i=n(22);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:undefined,insertInto:void 0};n(2)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(5);(t.exports=n(1)(!1)).push([t.i,".ground {\n  position: absolute;\n  left: -45px;\n  top: -22.5px;\n  width: 120%;\n}\n.ground .tile {\n  position: absolute;\n  width: 90px;\n  height: 45px;\n  float: left;\n  background: url("+i(n(6))+");\n  background-size: 420px;\n  background-position: -180px -72px;\n  filter: brightness(0.7);\n}\n.ground .tile.grass {\n  filter: initial;\n}\n",""])},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".welcome-screen,\n.end-screen {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.7);\n}\n",""])},function(t,e,n){var i=n(25);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:undefined,insertInto:void 0};n(2)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(5);(t.exports=n(1)(!1)).push([t.i,"html,\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background: black;\n}\nbody {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#game {\n  position: relative;\n  height: 610px;\n  width: 410px;\n  background-color: #386f32;\n  overflow: hidden;\n}\n* {\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -webkit-crisp-edges;\n  image-rendering: pixelated;\n  image-rendering: crisp-edges;\n}\n.activity {\n  position: absolute;\n}\n.activity .host {\n  font-size: 50px;\n}\n.activity .host,\n.activity .host::after {\n  background: url("+i(n(6))+");\n  background-size: 420px;\n}\n.activity .host.highlight {\n  filter: brightness(1.3);\n}\n.activity.store {\n  top: 368px;\n  left: 64px;\n}\n.activity.store .host {\n  width: 60px;\n  height: 54px;\n  background-position: -120px 54px;\n}\n.activity.home {\n  top: 279px;\n  left: 315px;\n}\n.activity.home .host {\n  width: 90px;\n  height: 60px;\n  background-position: -120px 114px;\n}\n.activity.office {\n  top: 146px;\n  left: 15px;\n}\n.activity.office .host {\n  width: 60px;\n  height: 117px;\n  background-position: -60px 117px;\n}\n.activity.competition {\n  top: 396px;\n  left: 244px;\n}\n.activity.competition .host {\n  width: 60px;\n  height: 117px;\n  background-position: 0px 117px;\n}\n.activity.gym {\n  top: 105px;\n  left: 240px;\n}\n.activity.gym .host {\n  width: 84px;\n  height: 90px;\n  background-position: -270px 90px;\n}\n.activity ul li.current {\n  color: #555;\n}\n.activity ul li.disabled {\n  color: red;\n}\n.stats {\n  position: absolute;\n  background: white;\n  height: 15px;\n  overflow: hidden;\n  border: 3px solid black;\n  border-radius: 3px;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  padding: 3px;\n}\n.stats.stats-bottom {\n  top: initial;\n  bottom: 3px;\n}\n.stats canvas {\n  position: absolute;\n}\n.stats canvas.stat-container__stamina {\n  left: 130px;\n}\n.stats canvas.stat-container__money {\n  left: 270px;\n}\n.stats canvas.stat-container__level {\n  left: 320px;\n}\n.time {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n}\n.time .day {\n  margin-right: 10px;\n}\n.text-overlay {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  right: 10px;\n  padding: 10px;\n  border: 3px solid black;\n  border-radius: 5px;\n  height: 15px;\n  text-overflow: hidden;\n  background-color: white;\n}\n.text-overlay canvas {\n  width: 300px;\n  height: 150px;\n}\n.hidden {\n  display: none;\n}\n",""])},function(t,e,n){"use strict";n.r(e);n(12),n(13),n(14);var i=n(4);function s(t){t.parentNode&&t.parentNode.removeChild(t)}const r={text:""};function a(t,{container:e,ttl:n}={}){const i=function(t,e){const n=document.createElement("div"),i=document.createElement("canvas");return e.appendChild(n),n.classList.add("text-overlay"),n.appendChild(i),h(i,t.toUpperCase()),n}(t,e=e||document.querySelector("#game"));return n&&l(i,{container:e,ttl:n}),i}function o(t,e,{x:n=0,y:s=0,color:r="black",textSize:a=14,textAlign:o="left"}={}){const c=t.getContext("2d"),h=Object(i.initFont)(i.font,c),l=e.toUpperCase();if("center"===o){const e=l.split("").length*a*.85;n=t.width/2-e/2}h(l,n,s,a,r)}function c(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}function h(t,...e){c(t),o(t,...e)}function l(t,{container:e,ttl:n=0}={}){e=e||document.querySelector("#game"),setTimeout(()=>{s(t)},1e3*n)}function d(t,e){const n=t.getContext("2d");Object(i.initFont)(i.font,n);e.forEach((e,n)=>{o(t,e.text,{x:e.x,y:e.y||40*n,color:e.color||"white",textSize:e.textSize,textAlign:e.textAlign})})}var u=n(0);function m(t){return new Promise(e=>{setTimeout(e,1e3*t)})}function f(t,{ttl:e=1.5}={}){return a(t,{ttl:e}),m(e)}function g(t){for(let e=0;e<3;e++)setTimeout(()=>{t.container.classList.toggle("inverse"),Object(u.c)()},1e3*e)}async function x(t){window.blockMovement=!0,await t(),window.blockMovement=!1}async function y(){await x(async()=>{await f("Oooh! Level up!"),await f("I can up my stats at home!")})}async function v(){await f("Another level up!")}async function w(){await x(async()=>{await f("Yay! I reached level 4.04!"),await f("Let us join a competition ...",{ttl:1.5}),await f("... and improve my rank!")})}window.blockMovement=!1;const b="left",C="right",S="up",k="down",T="space",I={[S]:!1,[b]:!1,[C]:!1,[k]:!1,[T]:!1};let M=!1;function A(t){return I[t]}M||(!function(){const t=(t,e)=>I[t]=e,e=(e,n)=>{e.preventDefault(),[38,87].includes(e.which)&&t(S,n),[40,83].includes(e.which)&&t(k,n),[37,65].includes(e.which)&&t(b,n),[39,68].includes(e.which)&&t(C,n),32===e.which&&t(T,n)};window.onkeydown=window.onkeypress=t=>e(t,!0),window.onkeyup=t=>e(t,!1)}(),M=!0);class E{constructor(){this.container=document.createElement("div"),this.levelStats={stamina:1,strength:1,requiredExperience:100},this.currentStats={stamina:this.maxStamina,rank:10404,money:4.04,experience:0,level:1,availableStatPoints:0},this.position={x:10,y:40},this.s={dressed:!1}}get maxStamina(){return 100*this.levelStats.stamina}updateLevelStat(t,e){this.levelStats[t]+=e,this.currentStats.availableStatPoints-=e}updateStat(t,e){if("dressed"===t)return async function(){await x(async()=>{await f("Aaah. Better."),await f("I feel the urge to exercise!"),await f("Off to the gym!")})}(),this.s.dressed=e;if(t.includes(".")){const[n,i]=t.split(".");this[n][i]+=e}else{for(this.currentStats[t]+=e;"experience"===t&&this.currentStats.experience>=this.levelStats.requiredExperience;)this.currentStats.availableStatPoints+=this.currentStats.level,this.currentStats.level+=1,this.currentStats.experience-=this.levelStats.requiredExperience,this.levelStats.requiredExperience*=2,setTimeout(()=>{switch(Object(u.d)(),this.currentStats.level){case 2:y();break;case 4:w();break;default:v()}},50);"stamina"===t&&(this.currentStats.stamina=Math.max(Math.min(this.currentStats.stamina,this.maxStamina),0))}}hasStat(t,e){return"time"===t||(Object.keys(this.currentStats).includes(t)?this.currentStats[t]>=e:Object.keys(this.levelStats).includes(t)?this.levelStats[t]>=e:"dressed"===t&&this.s.dressed===e)}appendTo(t){return t.appendChild(this.container),this.container.classList.add("player"),this}update(){window.blockMovement||(A(b)?this.position.x-=5:A(C)&&(this.position.x+=5),A(S)?this.position.y-=5:A(k)&&(this.position.y+=5)),this.container.style.left=this.position.x+"px",this.container.style.top=this.position.y+"px"}render(){this.container.classList.toggle("walk",A(S)||A(k)||A(b)||A(C)),A(b)&&!this.container.classList.contains("inverse")&&this.container.classList.add("inverse"),A(C)&&this.container.classList.contains("inverse")&&this.container.classList.remove("inverse"),this.container.classList.toggle("dressed",this.s.dressed)}}class z{constructor(t="#game"){this.game=document.querySelector(t)}}var L=n(3);function R(t,e){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return n.x<i.x+i.width&&n.x+n.width>i.x&&n.y<i.y+i.height&&n.y+n.height>i.y}function O(t,e){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return n.x+n.width<i.x}n(17);const j=t=>void 0===t.item.hidden||!1===t.item.hidden;class D{constructor(t,e){this.items=[...t,U],this.s={selectedItem:this.items.find(j),selectedItemIndex:this.items.findIndex(j),allowToggle:!0,allowSelect:!1},this.container=document.createElement("div"),this.onSelect=e,setTimeout(()=>{this.s.allowSelect=!0},200)}appendTo(t){return this.hostContainer=t,t.appendChild(this.container),this.container.classList.add("menu"),this.canvas=document.createElement("canvas"),this.container.appendChild(this.canvas),this}update(){if(this.items.forEach(t=>t.update({selected:!1})),this.s.selectedItem.update({selected:!0}),this.s.allowToggle&&(A(S)||A(k))){this.s.allowToggle=!1,setTimeout(()=>{this.s.allowToggle=!0},200);const t=A(S)?-1:1;do{const e=this.s.selectedItemIndex+t,n=e>=0?e%this.items.length:this.items.length-1;this.s.selectedItemIndex=n,this.s.selectedItem=this.items[this.s.selectedItemIndex]}while(!j(this.s.selectedItem))}this.s.allowSelect&&A(T)&&this.s.selectedItem.item.requirementsFulfilled&&(this.s.allowSelect=this.s.allowToggle=!1,this.onSelect(this.s.selectedItem.item)),j(this.s.selectedItem)||(this.s.selectedItem=this.items.find(j),this.s.selectedItemIndex=this.items.findIndex(j))}render(t){window.blockMovement=!0,this.canvas.width=this.hostContainer.clientWidth-44,this.canvas.height=30*this.items.length+60,this.container.style.top=this.hostContainer.clientHeight-48-this.canvas.height+"px",c(this.canvas);let e=0;this.items.filter(j).forEach(n=>{n.render(this.canvas,e,t);const i=n===this.s.selectedItem&&n!==U?90:30;e+=i})}destroy(){window.blockMovement=!1,s(this.canvas),s(this.container)}reset(){setTimeout(()=>{this.s.allowSelect=this.s.allowToggle=!0},200)}}class q{constructor(t){this.item=t,this.s={selected:!1}}update(t){this.s={...this.s,...t}}format(t,e){return`${t}: ${Object.entries(e).map(([t,e])=>`${t}: ${e}`).join(", ")}`}getColor(){return!1===this.item.requirementsFulfilled?"red":this.s.selected?"black":"grey"}render(t,e,n){const i=this.getColor(),s=this!==U&&this.item.remainingTime?` ${this.item.remainingTime} sec`:"",r=[{text:`${"function"==typeof this.item.title?this.item.title(n):this.item.title}${s}`,y:e,color:i}];this!==U&&this.s.selected&&(r.push({text:this.format("Requirements",this.item.requirements),y:e+30,color:i,textSize:10}),r.push({text:this.format("Effect",this.item.effects),y:e+50,color:i,textSize:10})),d(t,r)}}const U=new q({title:"Exit venue",requirements:{time:5},effects:{}});n(19);const _=[b,C,S,k],B={[b]:"←",[C]:"→",[S]:"↑",[k]:"↓"};class J{constructor(t,e){this.container=document.createElement("div"),this.p=t,this.originalPlayerPosition={...p.position},this.challengeName=e,this.s={started:!1,spawnTarget:!0,spawnDelay:3e3,enemySpeed:2,changeDifficulty:!0,score:0,remainingTime:40.4,completed:!1,renderSpaceHint:!0,completionTriggered:!1},this.enemies=[],this.scoreCanvas=document.createElement("canvas"),this.startCanvas=document.createElement("canvas")}appendTo(t){return t.appendChild(this.container),this.hostContainer=t,this.container.classList.add("mini-game"),this.container.appendChild(this.scoreCanvas),this.scoreCanvas.classList.add("score"),this.container.appendChild(this.startCanvas),this.startCanvas.classList.add("start-mini-game"),setInterval(()=>{this.s.renderSpaceHint=!this.s.renderSpaceHint},750),this}initStateChange(t,e){this.s[t]=!1,setTimeout(()=>{this.s[t]=!0},e)}spawnEnemy(){const t=_[~~(Math.random()*_.length)],e={container:document.createElement("div"),control:t,position:{x:-50,y:this.targetContainer.offsetTop+25},highlight:!1,speed:this.s.enemySpeed,destroyed:!1};e.container.innerHTML=B[t],e.container.classList.add("enemy"),this.container.appendChild(e.container),this.enemies.push(e)}removeEnemy(t){s(t.container),this.enemies=this.enemies.filter(e=>t!==e)}updateEnemies(){[...this.enemies].forEach(t=>{O(this.container,t.container)&&this.removeEnemy(t)}),this.enemies.forEach(t=>{t.destroyed?(t.contains=t.missed=t.collides=!1,t.position.y-=2):(t.position.x+=t.speed,t.collides=R(this.targetContainer,t.container),t.contains=function(t,e){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return n.x<i.x+i.width&&n.x<i.x&&n.x+n.width>i.x&&n.x+n.width>i.x+i.width}(this.targetContainer,t.container),t.missed=O(this.targetContainer,t.container))})}destroyEnemy(t){t.destroyed=!0,setTimeout(()=>this.removeEnemy(t),1e3)}scoreEnemy(t){this.s.score+=t.contains?2:1}onComplete(t){return this.onComplete=()=>{this.s.completionTriggered||(this.s.completionTriggered=!0,setTimeout(()=>{s(this.scoreCanvas),s(this.container),this.p.position=this.originalPlayerPosition,this.p.updateStat("rank",-this.s.score),window.blockMovement=!1,setTimeout(async()=>{this.p.hasCompletedCompetition||(this.p.hasCompletedCompetition=!0,await async function(){await f("No idea why but ..."),await f("... I totally want to ..."),await f("... reach rank 404! Woop!")}())},1e3),t(this)},2e3))},this}update(){if(window.blockMovement=!0,this.targetContainer||(this.targetContainer=document.createElement("div"),this.targetContainer.classList.add("target"),this.container.appendChild(this.targetContainer)),!this.s.started){if(!A(T))return;this.s.started=!0}this.s.spawnTarget&&(this.initStateChange("spawnTarget",this.s.spawnDelay),this.spawnEnemy()),this.s.changeDifficulty&&(this.initStateChange("changeDifficulty",2e3),this.s.spawnDelay=Math.max(this.s.spawnDelay-200,500),this.s.enemySpeed=Math.min(this.s.enemySpeed+.1,7)),0===this.s.remainingTime&&(this.enemies.forEach(t=>this.destroyEnemy(t)),this.s.completed=!0),this.updateEnemies();const t=this.enemies.find(t=>t.collides);t&&A(t.control)&&(this.destroyEnemy(t),this.scoreEnemy(t)),this.timeIntervalId||(this.timeIntervalId=setInterval(()=>{if(0===this.s.remainingTime)return clearInterval(this.timeIntervalId);this.s.remainingTime=~~(this.s.remainingTime-1)},1e3))}render(){this.enemies.forEach(t=>{t.container.style.left=t.position.x+"px",t.container.style.top=t.position.y+"px",t.container.classList.toggle("collides",t.collides),t.container.classList.toggle("contains",t.contains),t.container.classList.toggle("missed",t.missed),t.container.classList.toggle("destroyed",t.destroyed)}),this.startCanvas.width=this.scoreCanvas.width=this.hostContainer.clientWidth,h(this.scoreCanvas,`Score: ${this.s.score}       Time: ${this.s.remainingTime}`,{color:"white",textAlign:"center"}),d(this.startCanvas,[{text:this.challengeName,textSize:24,x:50},{text:!this.s.started&&this.s.renderSpaceHint?"Press SPACE to start competition":"",textAlign:"center",y:50}])}}class H extends J{constructor(t){super(t,"Jumping Jacks"),this.container.classList.add("jumping-jacks"),this.s={...this.s,repetitions:0,countdown:404,started:!1,playerHoisted:!1,allowJump:void 0,yDelta:0}}jump(){const t=this.p.position.y;this.s.yDelta=-3,setTimeout(()=>{this.s.yDelta*=-1,setTimeout(()=>{this.s.yDelta=0,this.p.position.y=t,this.s.allowJump=!0},200)},200)}update(){J.prototype.update.call(this),this.s.completed?this.onComplete():(this.s.allowJump&&this.s.started&&(this.s.allowJump=!1,Math.random()<.1&&this.p.container.classList.toggle("inverse"),this.jump()),this.s.playerHoisted&&(this.p.position.y+=this.s.yDelta,void 0===this.s.allowJump&&(this.s.allowJump=!0)))}render(){J.prototype.render.call(this),this.s.playerHoisted||(this.p.container.style.zIndex=999,this.p.position.x=this.hostContainer.clientWidth/2-20,this.p.position.y=this.hostContainer.clientHeight/2-20,this.s.playerHoisted=!0)}}class F{constructor(t,e={}){this.container=document.createElement("div"),this.game=t,this.p=t.p,this.config=e,this.s={showItems:!1,currentItem:null,investedTime:null,highlight:!1,toggledViaKeyboardAt:new Date}}hasCurrent(){return!!this.s.currentItem}appendTo(t){return this.gameContainer=t,t.appendChild(this.container),this.container.classList.add(this.config.name,"activity"),this}applyItemEffects(t){Object.keys(t.effects).forEach(e=>{this.p.updateStat(e,t.effects[e])})}update(){this.hasCurrent()&&(this.s.investedTime+=L.minutesPerTick,this.s.currentItem.remainingTime=this.s.currentItem.requirements.time-this.s.investedTime,this.s.investedTime>=this.s.currentItem.requirements.time&&(this.s.investedTime=0,delete this.s.currentItem.remainingTime,this.applyItemEffects(this.s.currentItem),this.resetCurrent())),this.s.showItems&&this.itemMenu&&(this.itemMenu.items.forEach(t=>{t.item.requirementsFulfilled=this.requirementsFulfilled(t.item.requirements),t.item.hidden=!t.item.requirementsFulfilled&&!!t.item.hideIfRequirementsNotMet}),this.itemMenu.update()),this.hostContainer&&(this.s.highlight=R(this.p.container,this.hostContainer),this.s.highlight&&A(T)&&this.canBeToggledViaKeyboard()&&!this.s.currentItem?"home"===this.config.name||this.p.s.dressed?(this.toggle(),this.s.toggledViaKeyboardAt=new Date):async function(){await f("I am naked! Need my clothes!")}():this.s.highlight||this.toggle(!1),this.s.highlight&&!this.s.textContainer&&(this.s.textContainer=a(this.config.name+" - press space to open")),!this.s.highlight&&this.s.textContainer&&(this.s.textContainer=l(this.s.textContainer)))}render(){this.requirementsFulfilled(this.config.requirements||{})&&(this.renderHost(),this.s.showItems&&this.renderItems())}renderItems(){this.itemMenu||(this.itemMenu=new D(this.config.items.map(t=>new q(t)),t=>this.onItemSelect(t)).appendTo(this.gameContainer)),this.itemMenu.render(this.p)}renderHost(){this.hostContainer||(this.hostContainer=document.createElement("div"),this.hostContainer.classList.add("host")),this.container.contains(this.hostContainer)||this.container.appendChild(this.hostContainer),this.hostContainer.classList.toggle("highlight",this.s.highlight)}toggle(t){this.s.showItems=void 0!==t?t:!this.s.showItems}canBeToggledViaKeyboard(){return new Date-this.s.toggledViaKeyboardAt>500}onItemSelect(t){if(t.miniGame)return setTimeout(()=>this.resetCurrent()),void this.game.r.push(new H(this.p).appendTo(this.game.ui.game).onComplete(e=>{this.game.rr(e),this.applyItemEffects(t),this.resetCurrent()}));this.s.currentItem=t,this.s.investedTime=0,t.soundEffect&&Object(u.b)(t.soundEffect)}resetCurrent(){this.itemMenu&&this.itemMenu.destroy(),this.s.currentItem=null,this.toggle(!1),this.itemMenu=void 0}requirementsFulfilled(t){return Object.entries(t).every(([t,e])=>this.p.hasStat(t,e))}findItemContainer(t){return Array.from(this.itemMenu.querySelectorAll("li")).find(e=>e.querySelector(".title").innerText===t.title)}}var P=n(8),N=n(9),Z={name:"home",items:[{title:"Dress up",requirements:{dressed:!1,time:10},effects:{dressed:!0},soundEffect:",,528,.01,,.48,,.6,-11.6,,,,.32,4.2",hideIfRequirementsNotMet:!0},{title:"Thorough sleep",requirements:{time:480},effects:{stamina:100}},{title:"Quick nap",requirements:{time:120},effects:{stamina:50}},...["stamina","strength"].map(t=>({title:e=>`Up ${t} / Current: ${e.levelStats[t]}`,requirements:{availableStatPoints:1,time:10},effects:{availableStatPoints:-1,["levelStats."+t]:1},hideIfRequirementsNotMet:!0}))]},G=n(10),K=n(11);class X{constructor(t){this.ct=document.createElement("div"),this.cb=document.createElement("div"),this.p=t.p,this.t=t.time,this.init()}isc(t,e){const n=this[t+"Container"]=document.createElement("canvas");n.classList.add("stat-container","stat-container__"+t),e.appendChild(n)}init(){this.isc("rank",this.ct),this.isc("stamina",this.ct),this.isc("money",this.ct),this.isc("level",this.ct),this.isc("time",this.cb),this.isc("level",this.cb)}appendTo(t){return this.hostContainer=t,t.appendChild(this.ct),t.appendChild(this.cb),this.ct.classList.add("stats","stats-top"),this.cb.classList.add("stats","stats-bottom"),this}updateItem(t,e){this[t+"Container"];container.querySelector(".value").innerHTML=e}update(){this.cb.classList.toggle("hidden",this.hostContainer&&this.hostContainer.querySelector(".text-overlay"))}render(){const t={level:"lvl"};["rank","stamina","money","level"].forEach(e=>{const n=this[e+"Container"];let i=this.p.currentStats[e];"stamina"===e?i=~~this.p.currentStats.stamina:"money"===e?i=i.toFixed(2):"level"===e&&(i=Q(i)),h(n,`${t[e]||e}: ${i}`)});const e=`Day ${this.t.day} ${Q(this.t.hours)}:${Q(this.t.minutes)}`;h(this.timeContainer,e);const n=100*this.p.currentStats.experience/this.p.levelStats.requiredExperience;this.cb.style.background=`linear-gradient(to right, #FFD700, #FFD700 ${n}%, white ${n}%, white 100%)`}}const Q=t=>t>=10?t:"0"+t;n(21);class W{constructor(){this.container=document.createElement("div"),setTimeout(()=>{this.generateTiles()})}generateTiles(){const t=document.querySelector("#game");this.container.classList.add("ground");for(let e=0;e<t.clientWidth/90;e++)for(let n=0;n<t.clientHeight/45;n++){const t=document.createElement("div");t.classList.add("tile","grass"),t.style.left=90*e+"px",t.style.top=45*n+"px";const i=t.cloneNode();i.style.left=90*e+45+"px",i.style.top=45*n+22.5+"px",Math.random()<.05&&t.classList.remove("grass"),this.container.appendChild(t),this.container.appendChild(i)}}appendTo(t){return t.appendChild(this.container),this}update(){}render(){}}class Y{constructor(){this.container=document.createElement("div"),this.entities=[new W]}appendTo(t){return t.appendChild(this.container),this.container.classList.add("world"),this.entities.forEach(t=>t.appendTo(this.container)),this}}n(7);class V{constructor(t){this.game=t,this.container=document.createElement("div"),this.hostContainer,this.s={showSpaceLine:!0},this.spaceInterval=setInterval(()=>{this.s.showSpaceLine=!this.s.showSpaceLine},400)}appendTo(t){return this.hostContainer=t,this.container.classList.add("welcome-screen"),this.canvas=document.createElement("canvas"),this.container.appendChild(this.canvas),t.appendChild(this.container),this}render(){A(T)&&this.container&&(clearInterval(this.spaceInterval),s(this.container),this.container=void 0,Object(u.a)().then(()=>{this.game.start()},()=>{this.game.start()})),this.container&&(this.canvas.width=this.hostContainer.clientWidth,this.canvas.height=this.hostContainer.clientHeight,d(this.canvas,[r,r,r,{text:"404",textSize:28,textAlign:"center"},{text:"repetitions",textSize:28,textAlign:"center"},r,r,r,r,r,r,r,{text:this.s.showSpaceLine?"Press SPACE to start":"",textAlign:"center"},{text:"The game will ask for access to your audio system!",textSize:8,textAlign:"center"}]))}}class ${constructor(t){this.game=t,this.container=document.createElement("div")}appendTo(t){return this.hostContainer=t,this.container.classList.add("end-screen"),this.canvas=document.createElement("canvas"),this.container.appendChild(this.canvas),t.appendChild(this.container),this}render(){this.canvas.width=this.hostContainer.clientWidth,this.canvas.height=this.hostContainer.clientHeight,this.game.p.position.x=180,this.game.p.position.y=350,d(this.canvas,[r,r,r,r,{text:"Congratulations",textSize:28,textAlign:"center"},r,{text:"you have reached rank 404",textAlign:"center"},{text:`in just ${this.game.time.day} days`,textAlign:"center"},r,r,r,{text:"Thanks for playing",textAlign:"center"},{text:"404 repetitions",textAlign:"center",textSize:24}])}}(new class{constructor(){this.p=new E,this.ui=new z,this.time={day:0,hours:0,minutes:0},this.s={busy:!1,renderWorkMenu:!1,renderWorkoutMenu:!1,started:!1,finished:!1},this.r=[(new Y).appendTo(this.ui.game),new X(this).appendTo(this.ui.game),new F(this,P).appendTo(this.ui.game),new F(this,N).appendTo(this.ui.game),new F(this,Z).appendTo(this.ui.game),new F(this,G).appendTo(this.ui.game),new F(this,K).appendTo(this.ui.game),this.p.appendTo(this.ui.game),new V(this).appendTo(this.ui.game)]}rr(t){this.r=this.r.filter(e=>e!==t)}increaseTime(){this.time.minutes+=L.minutesPerTick,this.time.minutes>=60&&(this.time.hours+=1,this.time.minutes=0),this.time.hours>=24&&(this.time.day+=1,this.time.minutes=this.time.hours=0)}run(){setInterval(()=>{this.s.started&&(this.increaseTime(),this.r.find(t=>t.hasCurrent&&t.hasCurrent())||this.p.updateStat("stamina",-L.staminaPerTick)),!this.s.finished&&this.p.currentStats.rank<=404&&(window.blockMovement=this.s.finished=!0,this.p.currentStats.rank=404,this.r.push(new $(this).appendTo(this.ui.game))),this.r.forEach(t=>t.update&&t.update()),this.r.forEach(t=>t.render&&t.render())},L.tickDelay)}start(){this.s.started=!0,async function(t){await x(async()=>{g(t),await f("Ooof!?! Location not found!?!"),await f("Ooof!?! Where am I?")}),await m(2),await x(async()=>{g(t),await f("Hmm... Clothes not found!"),await f("Hmm... Why am I naked?!"),await f("I better head home!")})}(this.p)}}).run();n(24)}]);</script></body></html>