<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"></head><body><div id="game"></div><script type="text/javascript">!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var s=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(r).concat([s]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(i[r]=!0)}for(s=0;s<t.length;s++){var a=t[s];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i,s,r={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=i.apply(this,arguments)),s}),o=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=o.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),l=null,h=0,d=[],u=n(14);function p(t,e){for(var n=0;n<t.length;n++){var i=t[n],s=r[i.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](i.parts[a]);for(;a<i.parts.length;a++)s.parts.push(y(i.parts[a],e))}else{var o=[];for(a=0;a<i.parts.length;a++)o.push(y(i.parts[a],e));r[i.id]={id:i.id,refs:1,parts:o}}}}function m(t,e){for(var n=[],i={},s=0;s<t.length;s++){var r=t[s],a=e.base?r[0]+e.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(o):n.push(i[a]={id:a,parts:[o]})}return n}function f(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=c(t.insertAt.before,n);n.insertBefore(e,s)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function x(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function y(t,e){var n,i,s,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var a=h++;n=l||(l=x(e)),i=A.bind(null,n,a,!1),s=A.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),f(t,e),e}(e),i=C.bind(null,n,e),s=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=x(e),i=S.bind(null,n),s=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=m(t,e);return p(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var a=n[s];(o=r[a.id]).refs--,i.push(o)}t&&p(m(t,e),e);for(s=0;s<i.length;s++){var o;if(0===(o=i[s]).refs){for(var c=0;c<o.parts.length;c++)o.parts[c]();delete r[o.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function A(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var r=document.createTextNode(s),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function S(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function C(t,e,n){var i=n.css,s=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||r)&&(i=u(i)),s&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var a=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}},function(t){t.exports=JSON.parse('{"minutesPerTick":1,"staminaPerTick":0.01,"tickDelay":33}')},function(t,e,n){"use strict";e.initFont=({height:t=5,...e}={},n)=>{if(e&&n)return(i,s=0,r=0,a=24,o="#000")=>{[...i].reduce((i,c)=>{const l=a/t,h=e[c.charCodeAt()]||"",d=(((t=>t>0)(h)?h:h.codePointAt())||0).toString(2),u=Math.ceil(d.length/t),p=i+l;return((t,e)=>t.match(new RegExp(`.{${e}}`,"g")))(d.padStart(u*t,0),t).map((t,e)=>[...t].map((t,i)=>{n.fillStyle=+t?o:"transparent",n.fillRect(s+p+e*l,r+i*l,l,l)})),i+(u+1)*l},0)}};const i=[...Array(33),29,,,,,,12,,,,"á‡„",3,"á‚„",1,1118480,"ç¸¿",31,"åº½","åš¿","ç‚Ÿ","çš·","çº·","äˆŸ","çº¿","çš¿",17,,,"â¥Š",,"äŠ¼",,"ã¹","çº®","ç¸±","ç¸®","çºµ","çº","ñ´š¦","ç²Ÿ","äŸ±","ä¸¿",1020241,"ç°¡",33059359,1024159,"ç¸¿","çºœ","ñ¼™¯","ç¹","çš·","ä°","ç°¿",25363672,32541759,18157905,"æƒ¸",18470705,,,,,"Ð¡"];e.font=i},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t){t.exports=JSON.parse('{"host":"ðŸ†","name":"competition","requirements":{"level":4},"items":[{"title":"Local junior competition","requirements":{"level":4,"time":120},"effects":{"experience":200,"rank":-50}},{"title":"State competition","requirements":{"level":10,"time":720},"effects":{"experience":2000,"rank":-200}},{"title":"National competition","requirements":{"level":15,"time":2880},"effects":{"experience":5000,"rank":-500}},{"title":"World championship","requirements":{"level":40,"time":21600},"effects":{"experience":10000,"rank":-1000}}]}')},function(t){t.exports=JSON.parse('{"host":"","name":"store","items":[{"title":"Burger","requirements":{"money":5,"time":10},"effects":{"money":-5,"stamina":20}},{"title":"Veggi Bowl","requirements":{"money":20,"time":60},"effects":{"money":-20,"stamina":60}}]}')},function(t){t.exports=JSON.parse('{"host":"","name":"office","items":[{"title":"Chop wood","requirements":{"strength":2,"time":120,"stamina":30},"effects":{"stamina":-30,"experience":25,"money":50}},{"title":"Dog walk","requirements":{"strength":0,"time":10,"stamina":15},"effects":{"money":10,"experience":10,"stamina":-15}}]}')},function(t){t.exports=JSON.parse('{"host":"","name":"gym","items":[{"title":"WOTD XYZ","requirements":{"strength":1,"time":30,"stamina":"50"},"effects":{"stamina":-50,"experience":225}}]}')},function(t,e){window.AudioContext=window.AudioContext||window.webkitAudioContext},function(t,e){zzfxV=.3,zzfx=(t=1,e=.05,n=220,i=0,s=0,r=.1,a=0,o=1,c=0,l=0,h=0,d=0,u=0,p=0,m=0,f=0,g=0,x=1,v=0,y=0)=>{let w,b,A=2*Math.PI,S=c*=500*A/zzfxR**2,C=(0<m?1:-1)*A/4,T=n*=(1+2*e*Math.random()-e)*A/zzfxR,k=[],E=0,I=0,z=0,M=1,R=0,L=0,U=0;for(i=99+zzfxR*i,v*=zzfxR,s*=zzfxR,r*=zzfxR,g*=zzfxR,l*=500*A/zzfxR**3,m*=A/zzfxR,h*=A/zzfxR,d*=zzfxR,u=zzfxR*u|0,b=i+v+s+r+g|0;z<b;k[z++]=U)++L%(100*f|0)||(U=a?1<a?2<a?3<a?Math.sin((E%A)**3):Math.max(Math.min(Math.tan(E),1),-1):1-(2*E/A%2+2)%2:1-4*Math.abs(Math.round(E/A)-E/A):Math.sin(E),U=(u?1-y+y*Math.sin(2*Math.PI*z/u):1)*(0<U?1:-1)*Math.abs(U)**o*t*zzfxV*(z<i?z/i:z<i+v?1-(z-i)/v*(1-x):z<i+v+s?x:z<b-g?(b-z-g)/r*x:0),U=g?U/2+(g>z?0:(z<b-g?1:(b-z)/g)*k[z-g|0]/2):U),w=(n+=c+=l)*Math.sin(I*m-C),E+=w-w*p*(1-1e9*(Math.sin(z)+1)%2),I+=w-w*p*(1-1e9*(Math.sin(z)**2+1)%2),M&&++M>d&&(n+=h,T+=h,M=0),!u||++R%u||(n=T,c=S,M=M||1);return(t=zzfxX.createBuffer(1,b,zzfxR)).getChannelData(0).set(k),(n=zzfxX.createBufferSource()).buffer=t,n.connect(zzfxX.destination),n.start(),n},zzfxX=new(window.AudioContext||webkitAudioContext),zzfxR=44100},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(4);(t.exports=n(0)(!1)).push([t.i,"@keyframes player-walk {\n  100% {\n    background-position-x: -80px;\n  }\n}\n.player {\n  position: absolute;\n  font-size: 50px;\n  background: url("+i(n(13))+");\n  background-size: 320px;\n  width: 40px;\n  height: 40px;\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -webkit-crisp-edges;\n  image-rendering: pixelated;\n  image-rendering: crisp-edges;\n}\n.player.walk {\n  animation: player-walk 0.4s steps(2) infinite;\n}\n.player.inverse {\n  transform: scaleX(-1);\n}\n.player.dressed {\n  background-position-y: -40px;\n}\n",""])},function(t,e){t.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAAoBAMAAACLAuyrAAAAHlBMVEUAAAAAAAApERJvIibEIiL/1Jywd2MeFxQvXKYtJEtCmJldAAAAAXRSTlMAQObYZgAAAdVJREFUeNrtlTd2HDEQROUnRdMzlDnA+gsAw3wNRjFkOpePmXFDhnNbtQYF7Ct572n/66r+tLt95Z99uZo/Xbsj+44JISGToxkv3/Nh+jbduW0h9TAEyJhSWr4Wwrtk4Zh6Q+z9OMPMgFLWxLAgsl4wIfXy0DwATlnTxqhEtmJh4p4N2+hTho2nlJdftKKJyYRRE/XysEsVKGXNu9RsDIR7NoyiMkCnmpCqviNs8G2DPke4PFJKadmm8Wx8hek5fofUe97GMM6w8ZS+rekUsVH+kV/Flno5jvFslGHzkFLSZELaqaHB/agqsOQU6AA1VRsBYykeVqF5jtJgtpWyjB0I6xcGYRffhGNhI1HFDXDYJaRPcg9FR7skXHZ6BKGIDTNWUBU89rtKEcuNmQUEs6Esj1DkFwjlyEGz3JEkSon+v/yYY8D0/6b8vymU/r8pz/00U/OGvuKmsMaGa9CLjZ8u8k0J06nAUntNu57iV+NLaj2HdBNK8XA9NQs8uCm2Um5KmC4c3CYsX1gL2XdQlzUXT7Z9uSkXPW7KgR+Xm1J7Vw78wtEuCZfb/ghCkcsBDCv0fbkk20oXfY6bkzJrrFdvyvkpivwCoZw6aM53JJeUEv3mL68BuhQO/rvWPXQAAAAASUVORK5CYII="},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(t,e,n){var i=n(16);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".menu {\n  background: white;\n  position: absolute;\n  padding: 10px;\n  margin: 10px;\n  border: 2px solid black;\n  border-radius: 4px;\n}\n",""])},function(t,e,n){var i=n(18);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(20);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(4);(t.exports=n(0)(!1)).push([t.i,".ground {\n  position: absolute;\n  left: calc(-1 * calc(30px * 3) / 2);\n  top: calc(-1 * calc(15px * 3) / 2);\n  width: 120%;\n}\n.ground .tile {\n  position: absolute;\n  width: calc(30px * 3);\n  height: calc(15px * 3);\n  float: left;\n  background: url("+i(n(21))+");\n  background-size: calc(2 * calc(30px * 3));\n}\n.ground .tile.grass {\n  background-position-x: calc(30px * 3);\n}\n",""])},function(t,e){t.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAPCAMAAACPzFxDAAAAVFBMVEUAAABTU1w7czRRUVpOT1c6cDM3bTBLS1NOTlZUVF5PT1g8dTQ3bDA4bjEzaCw5cDFNTVZPT1c4cDE3bS82ay84bTFQUFlMTFU5cTE4bzE1ai43bjDoQ34KAAAAAXRSTlMAQObYZgAAAPxJREFUeNp90lWSBCAMRVEgwaXd97/PeUm7MLf4PZBUYd6z1vyTc2YeWeY59y6EKSfiGDlFop/UB837nzTblEpKkZnom1bXWm9tKP+imQtmtpTgwT9oDR0zu0WDf+cES8zLJSPAklb05B52vdlstwEB9rbzD04Wr9J+eUhlv1dMzKUoB3W1bo6n7bldTifFPoTer9xaPBpjlGeXfDjo89CM8Ymcq8cwxpBnt+F81uehA8ZXTki9BlOK+PvLkngNpnfx6LGzJWRJYpVvO7sjcl4KKpU+UiU9sHlJlfTA318ExSgH9CNVGB5n8k002MkPk2CVzrjSOTfzlE77pH+UIgxzZt9otwAAAABJRU5ErkJggg=="},function(t,e,n){var i=n(23);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".welcome-screen {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.7);\n}\n",""])},function(t,e,n){var i=n(25);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(4);(t.exports=n(0)(!1)).push([t.i,"html,\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\nbody {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#game {\n  position: relative;\n  height: 610px;\n  width: 410px;\n  background-color: #386F32;\n  overflow: hidden;\n}\n* {\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -webkit-crisp-edges;\n  image-rendering: pixelated;\n  image-rendering: crisp-edges;\n}\n.activity {\n  position: absolute;\n}\n.activity .host {\n  font-size: 50px;\n}\n.activity .host,\n.activity .host::after {\n  background: url("+i(n(26))+');\n  background-size: 354px;\n}\n.activity .host.highlight {\n  filter: brightness(1.3);\n}\n.activity.competition {\n  top: 250px;\n  left: 350px;\n}\n.activity.store {\n  top: 388px;\n  left: 104px;\n}\n.activity.store .host {\n  width: 60px;\n  height: 54px;\n  background-position: -294px 54px;\n}\n.activity.home {\n  top: 279px;\n  left: 315px;\n}\n.activity.home .host {\n  width: 90px;\n  height: 60px;\n  background-position: -120px 114px;\n}\n.activity.office {\n  top: 146px;\n  left: 15px;\n}\n.activity.office .host {\n  width: 60px;\n  height: 117px;\n  background-position: 0px 117px;\n}\n.activity.office .host::after {\n  content: "";\n  width: 60px;\n  height: 117px;\n  background-position: -60px 117px;\n  position: relative;\n  display: block;\n  top: 23px;\n  left: 44px;\n}\n.activity.gym {\n  top: 105px;\n  left: 240px;\n}\n.activity.gym .host {\n  width: 84px;\n  height: 90px;\n  background-position: -210px 90px;\n}\n.activity ul li.current {\n  color: #555;\n}\n.activity ul li.disabled {\n  color: red;\n}\n.stats {\n  position: absolute;\n  background: white;\n  height: 15px;\n  overflow: hidden;\n  border: 3px solid black;\n  border-radius: 3px;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  padding: 3px;\n}\n.stats.stats-bottom {\n  top: initial;\n  bottom: 3px;\n}\n.stats canvas {\n  position: absolute;\n}\n.stats canvas.stat-container__stamina {\n  left: 130px;\n}\n.stats canvas.stat-container__money {\n  left: 270px;\n}\n.stats canvas.stat-container__level {\n  left: 320px;\n}\n.stats .value {\n  padding: 10px;\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n}\n.time {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n}\n.time .day {\n  margin-right: 10px;\n}\n.text-overlay {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  right: 10px;\n  padding: 10px;\n  border: 3px solid black;\n  border-radius: 5px;\n  height: 15px;\n  text-overflow: hidden;\n  background-color: white;\n}\n.text-overlay canvas {\n  width: 300px;\n  height: 150px;\n}\n.hidden {\n  display: none;\n}\n',""])},function(t,e){t.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAHYAAAAnCAMAAADtq0xxAAABj1BMVEUAAACBm58pLS6JRy+BRjExNjc6P0B9RjEiLzIaJihvLBR5RDFPT1KW19sPGRstNzZ0OSRmgoQzMze/uoWfm3C19vIvP0Gs39ySjmUrOjw6Ons7JAm41tRNLQhkOyiJhWBEKQhQyD47OCwuHxhAJwhSMQxJKwkyeDJraEo4hDg+JgjL1dYuKyC1vr+QmZs3MzJJQj8vcy/2OgyZtnlylkt5iWccTpIycjlndlciR4kjI0AqQWmDg41ycntUWF9PU1tMb601yES0vRnZ5BAQEBJJTFRSSERJPjlEOzdyaGNjWVRHS1BbUUxjWFMXHy6PhYCCenZtYVxyZmEpJSWSiIOHxdBrYl5ER05hVlFvY15sX1qtm48rKy6LgXxzaWVmXFlqX1opJSMelhAsciQpKSiEenZcVFJvs79nXFdhV1JEPj6kMCONLiYYhAwYXB5pZVpAPjdEQjstKScwLSt5LSifmTAegxYpZSdjX1WCeXQ8OjRzc3NwcHCWkS0XIzQaIzZeWlFhYGB2dnZqamopJyMSVUbyAAAAgHRSTlMA//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8sULx2koUAAAQ9SURBVHjatNUFeuNADAVgM7PTMJPDjPe/2ErW5FOZpisXTb/fvDZRHqOqCg/v+5+DgKYh8tU+Gt34M9S0CPl4H6O28Sew46qqZVkmIYzyvmeobui6Z/u6J80GIcGqGkUv0DewYUPS2Es8Q/e8RJpFGNE0e5b+HTivGH78FCeJbyQewnIsblVAkeX0NLwKwOZ5xTZiz8e0CHsyrlvCGbPPYV4FZJ9qeUU3DBtYgOt1qbQNl1gKFTQZJlSwrTyvtfMcYR2y1mE6LQm2hLNHqobLMKHdrFRbvTyO8xxhA1Ccfqv/DB4Mft6ty4v8gF2BYrdw/9Zw2AMTl7oC5KhkxwgLVNMQluhWwIQCPpn2+62iKAiGpQYV2Nm8WLSmE0KXS9NCWKrbKsICRXYyBXU+nyMcxyU7W62KORyYUNL1Bv/dEJbpFmGBdoHFbT4HuEAY2O1uty/m5QFEDxayDEt0S/uoW4LBJRiSbrdzkfV4GgwsngPDkt3ifsor4FVRPFBkHfc5PBhE0RemqpraV90iyzDJjCIbhAQfBHo6ffHuo5mWWcIA4Kvvu92WLMOMMhscESY0zb5g8SlNC+Gqq2nwTYui97t9DjNKcz4Hl+B4wsSInr7BMmzCN3zSD7p9DguU0zZcZIPwCGR6uma32xcsw4QC+1G3DAv0+SI3zqcLsdfTl90q7gO2TARw+7hbmvudvvP8q7WsthuHoSiq16HSr5TI0DCT6pQxzMxMHz5X1rprbtEZOn5rk2wdb5F0u//l+8EuNN04Ei/5/SV0ckJ3KNx/zdn8kVuEnlIsdQuf391Dt2TtEqii4ktGsIRauBVNEfue2/0jdPt6t9L0kxNVIVjRSiKs3R6fIdbKLaxhAtY0AVVtdpW4RY/WbhFr7ZbuVhpEcSg2xa6qxC16tHaLWGu3uFuZUF3TFcVmU1Sn64/cItbaLe5WbrcuuLriUBVNc7o83v/qFlv7/G63SwesCuyAxxsM/YlbFj5la7nF1pGILyrAmlOHpqFYiIu252u7RWyYreUWWxuReCR6AeBLj/fq+oZfS+ztubXbO9IWY+UWWxv38bhhGA9uT+iR80d+/SSx8Hzu9vnuNTaRTK7lNpViLG0IbNx4CHHOM9mNXF7cmwq3CP7A7fMzYoslJqFlxiqJxCdun+/2AJ/aY5BqNQ1YQPPrx41sdqNWZyK3CEa3G/Sg3wFqoylGXWy12yY4wZLJRId1ExRL3T7vAdZsamJ71V4/bWK5wA5qwxEBo1tmBt3uILQ0bsMzBjB0FcTJJDGdMMwvtzDQvUaTHny9WQ8aR3gut5Gdjxaj0YIxBANWQjHS7Y4Jla+4DVDpFcgQCWUI3pVuYaCyKQYb5+r15Wi4GC1WK/gTgr8jlIJ36A9Itwmoyd7NnukWBopNSXq9ar1WW60WSwklEAZ5BSZQkvJk8j4Y3JKmrxrXGURCfwIxtzyzozHoawAAAABJRU5ErkJggg=="},function(t,e,n){"use strict";n.r(e);n(9),n(10),n(11);var i=n(3);function s(t,{container:e,ttl:n}={}){const i=function(t,e){const n=document.createElement("div"),i=document.createElement("canvas");return e.appendChild(n),n.classList.add("text-overlay"),n.appendChild(i),o(i,t.toUpperCase()),n}(t,e=e||document.querySelector("#game"));return n&&c(i,{container:e,ttl:n}),i}function r(t,e,{x:n=0,y:s=0,color:r="black",textSize:a=14,textAlign:o="left"}={}){const c=t.getContext("2d"),l=Object(i.initFont)(i.font,c);if("center"===o){const i=e.split("").length*a*.85;n=t.width/2-i/2}l(e,n,s,a,r)}function a(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}function o(t,...e){a(t),r(t,...e)}function c(t,{container:e,ttl:n=0}={}){e=e||document.querySelector("#game"),setTimeout(()=>{e.removeChild(t)},1e3*n)}function l(t,e){const n=t.getContext("2d");Object(i.initFont)(i.font,n);e.forEach((e,n)=>{r(t,e.text.toUpperCase(),{y:e.y||40*n,color:e.color||"white",textSize:e.textSize,textAlign:e.textAlign})})}function h(t){return new Promise(e=>{setTimeout(e,1e3*t)})}function d(t,{ttl:e}){return s(t,{ttl:e}),h(e)}function u(t){for(let e=0;e<3;e++)setTimeout(()=>{t.container.classList.toggle("inverse"),zzfx(,.1,75,.03,.08,.17,1,1.88,7.83,,,,,.4)},1e3*e)}async function p(t){window.blockMovement=!0,await t(),window.blockMovement=!1}async function m(){await p(async()=>{await d("Oooh! Level up!",{ttl:2}),await d("I can up my stats at home!",{ttl:2})})}window.blockMovement=!1;const f="up",g={[f]:!1,left:!1,right:!1,down:!1,space:!1};let x=!1;function v(t){return g[t]}x||(!function(){const t=(t,e)=>g[t]=e,e=(e,n)=>{e.preventDefault(),[38,87].includes(e.which)&&t(f,n),[40,83].includes(e.which)&&t("down",n),[37,65].includes(e.which)&&t("left",n),[39,68].includes(e.which)&&t("right",n),32===e.which&&t("space",n)};window.onkeydown=window.onkeypress=t=>e(t,!0),window.onkeyup=t=>e(t,!1)}(),x=!0);class y{constructor(){this.container=document.createElement("div"),this.levelStats={stamina:1,strength:1,luck:1,requiredExperience:100},this.statsLimits={stamina:100*this.levelStats.stamina},this.currentStats={stamina:this.statsLimits.stamina,rank:1e4+~~(1e4*Math.random()),money:4.04,experience:0,level:1,availableStatPoints:10},this.position={x:10,y:40},this.state={dressed:!1}}updateLevelStat(t,e){this.levelStats[t]+=e,this.currentStats.availableStatPoints-=e}updateStat(t,e){if("dressed"===t)return async function(){location.href.includes("skipStory")||await p(async()=>{await d("Aaah. Better.",{ttl:2}),await d("I feel the urge to exercise!",{ttl:2}),await d("Off to the gym!",{ttl:2})})}(),this.state.dressed=e;if(t.includes(".")){const[n,i]=t.split(".");this[n][i]+=e}else{for(this.currentStats[t]+=e;"experience"===t&&this.currentStats.experience>=this.levelStats.requiredExperience;)this.currentStats.availableStatPoints+=this.currentStats.level,this.currentStats.level+=1,this.currentStats.experience-=this.levelStats.requiredExperience,this.levelStats.requiredExperience*=2,setTimeout(()=>{zzfx(,,80,.3,.4,.7,2,.1,-.73,3.42,-430,.09,.17,,,,.19),2===this.currentStats.level?m():levelUp()},50);"stamina"===t&&(this.currentStats.stamina=Math.max(Math.min(this.currentStats.stamina,this.statsLimits.stamina),0))}}hasStat(t,e){return"time"===t||(Object.keys(this.currentStats).includes(t)?this.currentStats[t]>=e:Object.keys(this.levelStats).includes(t)?this.levelStats[t]>=e:"dressed"===t&&this.state.dressed===e)}appendTo(t){return t.appendChild(this.container),this.container.classList.add("player"),this}update(){window.blockMovement||(v("left")?this.position.x-=5:v("right")&&(this.position.x+=5),v(f)?this.position.y-=5:v("down")&&(this.position.y+=5)),this.container.style.left=this.position.x+"px",this.container.style.top=this.position.y+"px"}render(){v(f)||v("down")||v("left")||v("right")?this.container.classList.contains("walk")||this.container.classList.add("walk"):this.container.classList.contains("walk")&&this.container.classList.remove("walk"),v("left")&&!this.container.classList.contains("inverse")&&this.container.classList.add("inverse"),v("right")&&this.container.classList.contains("inverse")&&this.container.classList.remove("inverse"),this.container.classList.toggle("dressed",this.state.dressed)}}class w{constructor(t="#game"){this.game=document.querySelector(t)}}var b=n(2);n(15);const A=t=>void 0===t.item.hidden||!1===t.item.hidden;class S{constructor(t,e){this.items=[...t,T],this.state={selectedItem:this.items.find(A),selectedItemIndex:this.items.findIndex(A),allowToggle:!0,allowSelect:!1},this.container=document.createElement("div"),this.onSelect=e,setTimeout(()=>{this.state.allowSelect=!0},200)}appendTo(t){return this.hostContainer=t,t.appendChild(this.container),this.container.classList.add("menu"),this.canvas=document.createElement("canvas"),this.container.appendChild(this.canvas),this}update(){if(this.items.forEach(t=>t.update({selected:!1})),this.state.selectedItem.update({selected:!0}),this.state.allowToggle&&(v(f)||v("down"))){this.state.allowToggle=!1,setTimeout(()=>{this.state.allowToggle=!0},200);const t=v(f)?-1:1,e=this.state.selectedItemIndex+t,n=e>=0?e%this.items.length:this.items.length-1;this.state.selectedItemIndex=n,this.state.selectedItem=this.items[this.state.selectedItemIndex]}this.state.allowSelect&&v("space")&&this.state.selectedItem.item.requirementsFulfilled&&(this.state.allowSelect=this.state.allowToggle=!1,this.onSelect(this.state.selectedItem.item)),A(this.state.selectedItem)||(this.state.selectedItem=this.items.find(A),this.state.selectedItemIndex=this.items.findIndex(A))}render(t){window.blockMovement=!0,this.canvas.width=this.hostContainer.clientWidth-44,this.canvas.height=30*this.items.length+60,this.container.style.top=this.hostContainer.clientHeight-48-this.canvas.height+"px",a(this.canvas);let e=0;this.items.filter(A).forEach(n=>{n.render(this.canvas,e,t);const i=n===this.state.selectedItem&&n!==T?90:30;e+=i})}destroy(){window.blockMovement=!1,this.container.removeChild(this.canvas),this.hostContainer.removeChild(this.container)}reset(){setTimeout(()=>{this.state.allowSelect=this.state.allowToggle=!0},200)}}class C{constructor(t){this.item=t,this.state={selected:!1}}update(t){this.state={...this.state,...t}}format(t,e){return`${t}: ${Object.entries(e).map(([t,e])=>`${t}: ${e}`).join(", ").toUpperCase()}`}getColor(){return!1===this.item.requirementsFulfilled?"red":this.state.selected?"black":"grey"}render(t,e,n){const i=this.getColor(),s=this!==T&&this.item.remainingTime?` ${this.item.remainingTime} sec`:"",r=[{text:`${"function"==typeof this.item.title?this.item.title(n):this.item.title}${s}`.toUpperCase(),y:e,color:i}];this!==T&&this.state.selected&&(r.push({text:this.format("Requirements",this.item.requirements),y:e+30,color:i,textSize:10}),r.push({text:this.format("Effect",this.item.effects),y:e+50,color:i,textSize:10})),l(t,r)}}const T=new C({title:"Exit venue",requirements:{time:5},effects:{}});class k{constructor(t,e,{onActivityStart:n,onActivityEnd:i}={}){this.container=document.createElement("div"),this.player=t,this.config=e,this.state={showItems:!1,currentItem:null,investedTime:null,highlight:!1,toggledViaKeyboardAt:new Date},this.onActivityStart=n,this.onActivityEnd=i}hasCurrent(){return!!this.state.currentItem}appendTo(t){return this.gameContainer=t,t.appendChild(this.container),this.container.classList.add(this.config.name,"activity"),this}update(){this.hasCurrent()&&(this.state.investedTime+=b.minutesPerTick,this.state.currentItem.remainingTime=this.state.currentItem.requirements.time-this.state.investedTime,this.state.investedTime>=this.state.currentItem.requirements.time&&(this.state.investedTime=0,delete this.state.currentItem.remainingTime,Object.keys(this.state.currentItem.effects).forEach(t=>{this.player.updateStat(t,this.state.currentItem.effects[t])}),this.resetCurrent())),this.state.showItems&&this.itemMenu&&(this.itemMenu.items.forEach(t=>{t.item.requirementsFulfilled=this.requirementsFulfilled(t.item.requirements),t.item.hidden=!t.item.requirementsFulfilled&&!!t.item.hideIfRequirementsNotMet}),this.itemMenu.update()),this.hostContainer&&(this.state.highlight=function(t,e){const n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return n.x<i.x+i.width&&n.x+n.width>i.x&&n.y<i.y+i.height&&n.y+n.height>i.y}(this.player.container,this.hostContainer),this.state.highlight&&v("space")&&this.canBeToggledViaKeyboard()&&!this.state.currentItem?"home"===this.config.name||this.player.state.dressed?(this.toggle(),this.state.toggledViaKeyboardAt=new Date):async function(){await d("I am naked! Need my clothes!",{ttl:2})}():this.state.highlight||this.toggle(!1),this.state.highlight&&!this.state.textContainer&&(this.state.textContainer=s(this.config.name+" - press space to open")),!this.state.highlight&&this.state.textContainer&&(this.state.textContainer=c(this.state.textContainer)))}render(){this.requirementsFulfilled(this.config.requirements||{})&&(this.renderHost(),this.state.showItems&&this.renderItems())}renderItems(){this.itemMenu||(this.itemMenu=new S(this.config.items.map(t=>new C(t)),t=>this.onItemSelect(t)).appendTo(this.gameContainer)),this.itemMenu.render(this.player)}renderHost(){this.hostContainer||(this.hostContainer=document.createElement("div"),this.hostContainer.classList.add("host"),this.hostContainer.innerHTML=this.config.host),this.container.contains(this.hostContainer)||this.container.appendChild(this.hostContainer),this.hostContainer.classList.toggle("highlight",this.state.highlight)}toggle(t){this.state.showItems=void 0!==t?t:!this.state.showItems}canBeToggledViaKeyboard(){return new Date-this.state.toggledViaKeyboardAt>500}onItemSelect(t){this.state.currentItem=t,this.state.investedTime=0,t.soundEffect&&zzfx(...t.soundEffect)}resetCurrent(){this.itemMenu.destroy(),this.state.currentItem=null,this.toggle(!1),this.itemMenu=void 0}requirementsFulfilled(t){return Object.entries(t).every(([t,e])=>this.player.hasStat(t,e))}findItemContainer(t){return Array.from(this.itemMenu.querySelectorAll("li")).find(e=>e.querySelector(".title").innerText===t.title)}}var E=n(5),I=n(6),z={host:"",name:"home",items:[{title:"Dress up",requirements:{dressed:!1,time:10},effects:{dressed:!0},soundEffect:[,,528,.01,,.48,,.6,-11.6,,,,.32,4.2],hideIfRequirementsNotMet:!0},{title:"Thorough sleep",requirements:{time:480},effects:{stamina:100}},{title:"Quick nap",requirements:{time:120},effects:{stamina:50}},...["stamina","strength"].map(t=>({title:e=>`Up ${t} / Current: ${e.levelStats[t]}`,requirements:{availableStatPoints:1,time:10},effects:{availableStatPoints:-1,["levelStats."+t]:1},hideIfRequirementsNotMet:!0}))]},M=n(7),R=n(8);class L{constructor(t){this.containerTop=document.createElement("div"),this.containerBottom=document.createElement("div"),this.player=t.player,this.time=t.time,this.init()}initStatContainer(t,e){const n=this[t+"Container"]=document.createElement("canvas");n.classList.add("stat-container","stat-container__"+t),e.appendChild(n)}init(){this.initStatContainer("rank",this.containerTop),this.initStatContainer("stamina",this.containerTop),this.initStatContainer("money",this.containerTop),this.initStatContainer("level",this.containerTop),this.initStatContainer("time",this.containerBottom),this.initStatContainer("level",this.containerBottom)}appendTo(t){return this.hostContainer=t,t.appendChild(this.containerTop),t.appendChild(this.containerBottom),this.containerTop.classList.add("stats","stats-top"),this.containerBottom.classList.add("stats","stats-bottom"),this}updateItem(t,e){this[t+"Container"];container.querySelector(".value").innerHTML=e}update(){this.containerBottom.classList.toggle("hidden",this.hostContainer&&this.hostContainer.querySelector(".text-overlay"))}render(){const t={level:"lvl"};["rank","stamina","money","level"].forEach(e=>{const n=this[e+"Container"];let i=this.player.currentStats[e];"stamina"===e?i=~~this.player.currentStats.stamina:"money"===e?i=i.toFixed(2):"level"===e&&(i=U(i)),o(n,`${(t[e]||e).toUpperCase()}: ${i}`)});const e=`Day ${this.time.day} ${U(this.time.hours)}:${U(this.time.minutes)}`;o(this.timeContainer,e.toUpperCase());const n=100*this.player.currentStats.experience/this.player.levelStats.requiredExperience;this.containerBottom.style.background=`linear-gradient(to right, #FFD700, #FFD700 ${n}%, white ${n}%, white 100%)`}}const U=t=>t>=10?t:"0"+t;n(17),n(19);class B{constructor(){this.container=document.createElement("div"),setTimeout(()=>{this.generateTiles()})}generateTiles(){const t=document.querySelector("#game");this.container.classList.add("ground");for(let e=0;e<t.clientWidth/90;e++)for(let n=0;n<t.clientHeight/45;n++){const t=document.createElement("div");t.classList.add("tile","grass"),t.style.left=90*e+"px",t.style.top=45*n+"px";const i=t.cloneNode();i.style.left=90*e+45+"px",i.style.top=45*n+22.5+"px",Math.random()<.05&&t.classList.remove("grass"),this.container.appendChild(t),this.container.appendChild(i)}}appendTo(t){return t.appendChild(this.container),this}update(){}render(){}}class q{constructor(){this.container=document.createElement("div"),this.entities=[new B]}appendTo(t){return t.appendChild(this.container),this.container.classList.add("world"),this.entities.forEach(t=>t.appendTo(this.container)),this}update(){}render(){}}n(22);class j{constructor(t){this.game=t,this.container=document.createElement("div"),this.hostContainer,this.state={showSpaceLine:!0},this.spaceInterval=setInterval(()=>{this.state.showSpaceLine=!this.state.showSpaceLine},400)}appendTo(t){return this.hostContainer=t,this.container.classList.add("welcome-screen"),this.canvas=document.createElement("canvas"),this.container.appendChild(this.canvas),t.appendChild(this.container),this}update(){}render(){var t,e;v("space")&&this.container&&(clearInterval(this.spaceInterval),this.hostContainer.removeChild(this.container),this.container=void 0,(t=new(window.AudioContext||window.webkitAudioContext),e=t.createScriptProcessor(1024,1,1),e.connect(t.destination),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(n){t.createMediaStreamSource(n).connect(e);var i=!1;e.onaudioprocess=function(t){i||(i=!0)}}))).then(()=>{this.game.start()},()=>{this.game.start()})),this.container&&(this.canvas.width=this.hostContainer.clientWidth,this.canvas.height=this.hostContainer.clientHeight,l(this.canvas,[{text:""},{text:""},{text:""},{text:"404",textSize:28,textAlign:"center"},{text:"repetitions",textSize:28,textAlign:"center"},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:""},{text:this.state.showSpaceLine?"Press SPACE to start":"",textAlign:"center"},{text:"The game will ask for access to your audio system!",textSize:8,textAlign:"center"}]))}}(new class{constructor(){this.player=new y,this.ui=new w,this.time={day:0,hours:0,minutes:0},this.state={busy:!1,renderWorkMenu:!1,renderWorkoutMenu:!1,started:!1},this.renderables=[(new q).appendTo(this.ui.game),new L(this).appendTo(this.ui.game),new k(this.player,E).appendTo(this.ui.game),new k(this.player,I).appendTo(this.ui.game),new k(this.player,z).appendTo(this.ui.game),new k(this.player,M).appendTo(this.ui.game),new k(this.player,R).appendTo(this.ui.game),this.player.appendTo(this.ui.game),new j(this).appendTo(this.ui.game)]}increaseTime(){this.time.minutes+=b.minutesPerTick,this.time.minutes>=60&&(this.time.hours+=1,this.time.minutes=0),this.time.hours>=24&&(this.time.day+=1,this.time.minutes=this.time.hours=0)}run(){setInterval(()=>{this.state.started&&(this.increaseTime(),this.renderables.find(t=>t.hasCurrent&&t.hasCurrent())||this.player.updateStat("stamina",-b.staminaPerTick)),this.renderables.forEach(t=>t.update()),this.renderables.forEach(t=>t.render())},b.tickDelay)}start(){this.state.started=!0,async function(t){location.href.includes("skipStory")||(await p(async()=>{u(t),await d("Ooof!?! Location not found!?!",{ttl:2}),await d("Ooof!?! Where am I?",{ttl:2})}),await h(1500),await p(async()=>{u(t),await d("Hmm... Clothes not found!",{ttl:2}),await d("Hmm... Why am I naked?!",{ttl:2}),await d("I better head home!",{ttl:3})}))}(this.player)}}).run();n(24)}]);</script></body></html>